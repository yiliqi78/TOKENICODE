import { useSettingsStore } from '../stores/settingsStore';
import type { Locale } from '../stores/settingsStore';

// --- Translation dictionary ---

const messages: Record<Locale, Record<string, string>> = {
  zh: {
    // Sidebar
    'sidebar.hide': '收起侧栏',
    'sidebar.newChat': '新任务',
    'sidebar.currentSession': '当前会话',
    'sidebar.lightMode': '浅色模式',
    'sidebar.darkMode': '深色模式',
    'sidebar.systemMode': '跟随系统',

    // ChatPanel
    'chat.showSidebar': '展开侧栏',
    'chat.running': '运行中',
    'chat.turns': '轮',
    'chat.toggleFiles': '切换文件面板',
    'chat.welcome': '欢迎使用 TOKENICODE',
    'chat.welcomeWithProject': '开始与 Claude Code 协作，CLI 会话在后台无缝运行。',
    'chat.welcomeNoProject': '选择一个项目文件夹以开始。',

    // InputBar
    'input.working': 'Claude 正在工作...',
    'input.followUp': '追加消息...',
    'input.placeholder': '给 Claude Code 发消息...',
    'input.prefixPlaceholder': '输入参数...',
    'input.attachFiles': '附加文件',
    'input.attachedFiles': '[附加的文件]',

    // MessageBubble
    'msg.thinking': '思考中...',
    'msg.terminal': '终端',
    'msg.readFile': '读取文件',
    'msg.writeFile': '写入文件',
    'msg.editFile': '编辑文件',
    'msg.search': '搜索',
    'msg.subAgent': '子代理',
    'msg.todo': '待办',
    'msg.webFetch': '网页',
    'msg.result': '结果',

    // ConversationList
    'conv.search': '搜索任务...',
    'conv.today': '今天',
    'conv.yesterday': '昨天',
    'conv.thisWeek': '本周',
    'conv.older': '更早',
    'conv.empty': '空任务',
    'conv.sessions': '个任务',
    'conv.noMatch': '没有匹配的任务',
    'conv.noConv': '暂无任务',
    'conv.refresh': '刷新',
    'conv.justNow': '刚刚',
    'conv.mAgo': '分钟前',
    'conv.hAgo': '小时前',
    'conv.dAgo': '天前',
    'conv.loadFailed': '加载任务失败',
    'conv.delete': '删除任务',
    'conv.rename': '重命名',
    'conv.revealInFinder': '在 Finder 中显示',
    'conv.export': '导出',
    'conv.newChat': '新建任务',
    'conv.renamePrompt': '输入新名称',

    // ExportMenu
    'export.title': '导出任务',
    'export.markdown': '导出为 Markdown',
    'export.json': '导出为 JSON',
    'export.success': '已导出到',

    // SecondaryPanel
    'panel.files': '文件',
    'panel.agents': '代理',
    'panel.settings': '设置',
    'panel.agentsSoon': 'Agent Teams（即将推出）',
    'panel.settingsSoon': '设置（即将推出）',
    'panel.skills': '技能',
    'panel.close': '关闭面板',

    // FileExplorer
    'files.title': '文件',
    'files.selectProject': '从下方输入栏选择一个项目以浏览文件',
    'files.changed': '已更改',
    'files.clearMarkers': '清除标记',
    'files.closePreview': '关闭预览',
    'files.refresh': '刷新',
    'files.noFiles': '未找到文件',
    'files.openVscode': '双击在 VS Code 中打开',
    'files.search': '搜索文件...',
    'files.revealInFinder': '在 Finder 中显示',
    'files.openDefault': '使用默认应用打开',
    'files.openVscodeShort': '在 VS Code 中打开',
    'files.preview': '预览',
    'files.source': '源码',
    'files.previewUnsupported': '此文件类型不支持预览',
    'files.binaryFile': '二进制文件无法预览',
    'files.imagePreview': '图片预览',
    'files.loading': '加载中...',
    'files.errorLoading': '加载文件失败',
    'files.lineCount': '行',
    'files.edit': '编辑',
    'files.save': '保存',
    'files.saving': '保存中...',
    'files.discard': '放弃',
    'files.unsavedChanges': '未保存的更改',
    'files.openExternal': '在系统查看器中打开',

    // ProjectSelector
    'project.selectFolder': '选择项目文件夹',
    'project.selectBtn': '选择项目...',

    // CommandPalette
    'cmd.newChat': '新任务',
    'cmd.newChatDesc': '开始新任务',
    'cmd.toggleSidebar': '切换侧栏',
    'cmd.toggleSidebarDesc': '显示或隐藏侧栏',
    'cmd.toggleFiles': '切换文件面板',
    'cmd.toggleFilesDesc': '显示或隐藏文件浏览器',
    'cmd.showFiles': '显示文件',
    'cmd.showFilesDesc': '打开文件浏览器',
    'cmd.showAgents': '显示代理',
    'cmd.showAgentsDesc': '打开 Agent Teams 面板',
    'cmd.toggleTheme': '切换主题',
    'cmd.toggleThemeDesc': '在浅色、深色和跟随系统之间切换',
    'cmd.placeholder': '输入命令...',
    'cmd.noMatch': '没有匹配的命令',
    'cmd.chat': '任务',
    'cmd.view': '视图',
    'cmd.settings': '设置',

    // ModeSelector
    'mode.code': 'Code',
    'mode.ask': 'Ask',
    'mode.plan': 'Plan',
    'mode.bypass': 'Bypass',

    // Activity status
    'chat.thinking': '思考中...',
    'chat.writing': '输出中...',
    'chat.runningTool': '运行工具',

    // File upload
    'input.processingFiles': '处理中...',
    'input.stop': '终止',

    // Rewind
    'rewind.title': '回退',
    'rewind.confirm': '确认回退到第 {n} 轮',
    'rewind.current': '（当前）',
    'rewind.noChanges': '无代码变更',
    'rewind.restoreConversation': '仅恢复任务',
    'rewind.restoreAll': '恢复代码和任务',
    'rewind.restoreCode': '仅恢复代码',
    'rewind.summarize': '从此处创建摘要',
    'rewind.cancel': '取消',
    'rewind.success': '已回退到第 {n} 轮（仅任务）。发送新消息将自动恢复。',
    'rewind.successAll': '已回退到第 {n} 轮（代码和任务均已恢复）。',
    'rewind.successCode': '已恢复到第 {n} 轮的代码状态（任务保持不变）。',
    'rewind.summaryTitle': '第 {from}–{to} 轮摘要',
    'rewind.disabled': '运行中无法回退',

    // Markdown rich text
    'msg.copyCode': '复制',
    'msg.copied': '已复制！',
    'msg.imgError': '图片加载失败',
    'msg.openLink': '在浏览器打开',

    // Permission / Plan interactive UI
    'msg.permissionTitle': '权限请求',
    'msg.allow': '允许',
    'msg.deny': '拒绝',
    'msg.responded': '已响应',
    'msg.planTitle': '执行计划',
    'msg.planSteps': '个步骤',
    'msg.viewPlan': '查看 Plan',
    'msg.noPlan': '暂无 Plan',
    'msg.questionTitle': '请选择',
    'msg.questionSubmit': '确认',
    'msg.questionNext': '下一个',
    'msg.questionSkip': '跳过',
    'msg.questionOther': '其他',
    'msg.questionOtherPlaceholder': '输入自定义回答...',
    'msg.planReview': '审查 Claude 的计划',
    'msg.planApprove': '批准计划并开始执行',
    'msg.planModify': '告诉 Claude 如何修改',
    'msg.planApproved': '计划已批准',
    'msg.planLabel': '计划',
    'chat.awaiting': '等待输入...',

    // Agent panel
    'agents.title': '代理',
    'agents.main': '主代理',
    'agents.subAgent': '子代理',
    'agents.empty': '发送消息后查看代理活动',
    'agents.active': '活跃',
    'agents.spawning': '启动中...',
    'agents.thinking': '思考中...',
    'agents.writing': '输出中...',
    'agents.runningTool': '运行工具',
    'agents.completed': '已完成',
    'agents.error': '出错',

    // WelcomeScreen
    'welcome.newChat': '新建任务',
    'welcome.subtitle': '选择一个项目文件夹以开始',
    'welcome.recentProjects': '最近项目',

    // Settings
    'settings.title': '设置',
    'settings.colorTheme': '主题颜色',
    'settings.black': '黑色',
    'settings.orange': '橘色',
    'settings.green': '绿色',
    'settings.blue': '蓝色',
    'settings.appearance': '外观',
    'settings.light': '浅色',
    'settings.dark': '深色',
    'settings.system': '跟随系统',
    'settings.language': '语言',
    'settings.defaultModel': '默认模型',
    'settings.fontSize': '字体大小',
    'settings.fontSizeHint': '⌘+/- 快捷调整，⌘+0 重置',

    // Slash commands
    'slash.commands': '命令',
    'slash.global': '全局',
    'slash.project': '项目',
    'slash.hasArgs': '需要参数',
    'slash.noMatch': '没有匹配的命令',
    'slash.builtin': '内置命令',
    'slash.skills': '技能',
    'slash.immediate': '即时',
    'slash.projectCommands': '项目命令',
    'slash.globalCommands': '全局命令',
    'slash.projectSkills': '项目技能',
    'slash.globalSkills': '全局技能',

    // Builtin command descriptions
    'slash.desc.ask': '提问但不修改代码',
    'slash.desc.bug': '报告 Claude Code 问题',
    'slash.desc.clear': '清空任务历史',
    'slash.desc.compact': '压缩任务以减少上下文',
    'slash.desc.config': '打开设置面板',
    'slash.desc.context': '管理上下文文件和目录',
    'slash.desc.cost': '显示会话费用和 Token 用量',
    'slash.desc.doctor': '检查 Claude Code 运行状态',
    'slash.desc.exit': '关闭应用程序',
    'slash.desc.export': '导出任务为 Markdown',
    'slash.desc.help': '显示可用命令',
    'slash.desc.init': '初始化项目配置',
    'slash.desc.mcp': '管理 MCP 服务器连接',
    'slash.desc.memory': '查看或编辑 MEMORY.md',
    'slash.desc.model': '切换 AI 模型',
    'slash.desc.permissions': '查看和管理工具权限',
    'slash.desc.plan': '进入 Plan 模式以规划复杂任务',
    'slash.desc.rename': '重命名当前会话',
    'slash.desc.resume': '恢复之前的会话',
    'slash.desc.rewind': '回退到之前的任务轮次',
    'slash.desc.stats': '显示会话统计信息',
    'slash.desc.status': '显示会话状态',
    'slash.desc.statusline': '配置状态栏显示',
    'slash.desc.tasks': '查看后台运行中的任务',
    'slash.desc.teleport': '将上下文传送到新会话',
    'slash.desc.theme': '切换浅色/深色/跟随系统主题',
    'slash.desc.todos': '查看会话中的待办事项',
    'slash.desc.usage': '显示详细的 Token 用量明细',

    // Command feedback
    'cmd.switchedToAsk': '已切换到 Ask 模式（仅回答问题，不修改代码）',
    'cmd.switchedToPlan': '已切换到 Plan 模式（规划任务，不直接执行）',
    'cmd.switchedToCode': '已切换到 Code 模式（默认模式）',
    'cmd.compacting': '正在压缩上下文...',
    'cmd.noActiveSession': '没有活跃的会话。请先发送一条消息。',
    'cmd.costTitle': '会话费用',
    'cmd.costModel': '模型',
    'cmd.costAmount': '费用',
    'cmd.costDuration': '时长',
    'cmd.costTurns': '轮次',
    'cmd.costTokens': 'Token 用量',
    'cmd.statusTitle': '会话状态',
    'cmd.statusState': '状态',
    'cmd.statusMode': '模式',
    'cmd.statusProcess': '进程活跃',
    'cmd.currentModel': '当前模型',
    'cmd.modelHint': '使用界面底部的模型选择器切换模型。',
    'cmd.helpTitle': '可用命令',
    'cmd.helpCustom': '自定义命令',
    'cmd.helpSkills': '技能',
    'cmd.bugReport': '请访问 https://github.com/anthropics/claude-code/issues 报告问题。',
    'cmd.unknownCommand': '未知命令',
    'cmd.noSessionData': '暂无会话数据，请先发送一条消息。',
    'cmd.configOpened': '已打开设置面板',
    'cmd.renamed': '已重命名为「{name}」',
    'cmd.renameNoArgs': '请提供新名称。用法: /rename <name>',
    'cmd.exportNoPath': '会话尚未保存到磁盘，无法导出。',
    'cmd.resumed': '已切换到会话「{name}」',
    'cmd.resumeNotFound': '未找到匹配「{query}」的会话',
    'cmd.resumeList': '请从侧栏选择要恢复的会话',
    'cmd.cliRunning': '正在执行...',
    'cmd.cliDone': '执行完成',
    'cmd.doctorTitle': '健康检查',
    'cmd.doctorCli': 'CLI 路径',
    'cmd.doctorVersion': '版本',
    'cmd.doctorAuth': '认证状态',
    'cmd.doctorAuthOk': '已登录',
    'cmd.doctorAuthFail': '未登录',
    'cmd.doctorNotInstalled': 'Claude CLI 未安装',
    'cmd.initCreated': '已创建 CLAUDE.md',
    'cmd.initExists': 'CLAUDE.md 已存在',
    'cmd.initNoDir': '请先选择项目目录',
    'cmd.memoryTitle': '项目记忆 (CLAUDE.md)',
    'cmd.memoryEmpty': '当前项目中未找到 CLAUDE.md 文件',
    'cmd.memoryNoDir': '请先选择项目目录',
    'cmd.permissionsTitle': '权限信息',
    'cmd.permissionsHint': '权限由 Claude CLI 会话管理，请在终端中运行 claude permissions 查看详情。',
    'cmd.mcpTitle': 'MCP 服务器',
    'cmd.mcpHint': 'MCP 服务器由 Claude CLI 管理，请在终端中运行 claude mcp 查看详情。',

    // Command processing card
    'cmd.processing': '正在执行',
    'cmd.processingDone': '执行完成',
    'cmd.elapsed': '耗时',
    'cmd.showOutput': '查看输出',
    'cmd.hideOutput': '收起输出',

    // Plan review enhancements
    'msg.planStepCount': '{n} 个步骤',
    'msg.planApproveHint': '批准 (Enter)',
    'msg.planCollapsed': '计划已批准 — 点击展开',

    // Permission enhancements
    'msg.permissionAllowHint': '允许 (y)',
    'msg.permissionDenyHint': '拒绝 (n)',
    'msg.permissionCommand': '命令',

    // Question enhancements
    'msg.questionProgress': '问题 {current} / {total}',

    // Tool group
    'msg.toolGroup': '{n} 个工具调用',
    'msg.toolGroupSummary': '{summary}',
    'msg.toolGroupExpand': '展开',
    'msg.toolGroupCollapse': '收起',

    // Slash command execution types
    'slash.cli': 'CLI',
    'slash.session': '会话',

    // Skills panel
    'skills.title': '技能',
    'skills.refresh': '刷新',
    'skills.create': '创建',
    'skills.cancel': '取消',
    'skills.edit': '编辑',
    'skills.save': '保存',
    'skills.saving': '保存中...',
    'skills.discard': '放弃',
    'skills.delete': '删除',
    'skills.loading': '加载中...',
    'skills.empty': '暂无技能，点击 + 创建',
    'skills.namePlaceholder': '输入技能名称...',
    'skills.global': '全局',
    'skills.project': '项目',
    'skills.confirmDelete': '确定删除此技能吗？',
    'skills.viewEdit': '编辑',
    'skills.viewPreview': '预览',
    'skills.viewSplit': '分屏',
    'skills.unsaved': '未保存',
    'skills.search': '搜索技能...',
    'skills.useInInput': '在输入框中使用',
    'skills.enable': '启用',
    'skills.disable': '禁用',
    'skills.duplicate': '复制',
    'skills.revealInFinder': '在 Finder 中显示',
    'skills.tools': '工具',
    'skills.model': '模型',
    'skills.context': '上下文',
    'skills.version': '版本',

    // MCP panel
    'panel.mcp': 'MCP',
    'mcp.title': 'MCP 服务器',
    'mcp.add': '添加',
    'mcp.edit': '编辑',
    'mcp.delete': '删除',
    'mcp.name': '名称',
    'mcp.command': '命令',
    'mcp.args': '参数',
    'mcp.env': '环境变量',
    'mcp.type': '类型',
    'mcp.noServers': '暂无 MCP 服务器',
    'mcp.confirmDelete': '确定删除此 MCP 服务器吗？',
    'mcp.save': '保存',
    'mcp.cancel': '取消',
    'mcp.envHint': '每行一个，格式: KEY=VALUE',
    'mcp.argsHint': '每行一个参数',
    'mcp.namePlaceholder': '输入服务器名称...',
    'mcp.commandPlaceholder': '输入命令，如 npx',
    'mcp.refresh': '刷新',
    'mcp.envCount': '个环境变量',

    // Setup wizard
    'setup.checking': '正在检测 Claude Code CLI...',
    'setup.notInstalled': '未检测到 Claude Code CLI',
    'setup.notInstalledDesc': '需要安装 Claude Code CLI 才能使用 TOKENICODE。',
    'setup.install': '安装 Claude Code',
    'setup.installing': '正在安装...',
    'setup.installFailed': '安装失败',
    'setup.installFailedDesc': '自动安装未成功，请尝试手动安装。',
    'setup.retry': '重试',
    'setup.manualInstall': '手动安装说明',
    'setup.manualInstallCmd': '在终端中运行以下命令：',
    'setup.installed': 'Claude Code CLI 已安装',
    'setup.loginNeeded': '需要登录 Anthropic 账户',
    'setup.loginNeededDesc': '登录后即可开始使用 Claude Code。',
    'setup.login': '登录',
    'setup.loggingIn': '等待认证...',
    'setup.loggingInDesc': '浏览器窗口应已打开，请在浏览器中完成登录。',
    'setup.loggingInTerminalDesc': '已在终端中打开 claude login，请在终端中完成登录。登录成功后此页面会自动更新。',
    'setup.loginFailed': '登录失败',
    'setup.loginFailedDesc': '认证未成功，请重试。',
    'setup.ready': '一切就绪！',
    'setup.readyDesc': 'Claude Code CLI 已安装并登录，可以开始使用了。',
    'setup.start': '开始使用',
    'setup.skip': '跳过',
    'setup.version': '版本',
  },

  en: {
    // Sidebar
    'sidebar.hide': 'Hide sidebar',
    'sidebar.newChat': 'New Task',
    'sidebar.currentSession': 'Current Session',
    'sidebar.lightMode': 'Light Mode',
    'sidebar.darkMode': 'Dark Mode',
    'sidebar.systemMode': 'System',

    // ChatPanel
    'chat.showSidebar': 'Show sidebar',
    'chat.running': 'Running',
    'chat.turns': 'turns',
    'chat.toggleFiles': 'Toggle file panel',
    'chat.welcome': 'Welcome to TOKENICODE',
    'chat.welcomeWithProject': 'Start working with Claude Code. Your CLI session runs seamlessly in the background.',
    'chat.welcomeNoProject': 'Select a project folder to get started.',

    // InputBar
    'input.working': 'Claude is working...',
    'input.followUp': 'Send follow-up...',
    'input.placeholder': 'Message Claude Code...',
    'input.prefixPlaceholder': 'Enter arguments...',
    'input.attachFiles': 'Attach files',
    'input.attachedFiles': '[Attached files]',

    // MessageBubble
    'msg.thinking': 'Thinking...',
    'msg.terminal': 'Terminal',
    'msg.readFile': 'Read File',
    'msg.writeFile': 'Write File',
    'msg.editFile': 'Edit File',
    'msg.search': 'Search',
    'msg.subAgent': 'Sub-agent',
    'msg.todo': 'Todo',
    'msg.webFetch': 'Web',
    'msg.result': 'Result',

    // ConversationList
    'conv.search': 'Search tasks...',
    'conv.today': 'Today',
    'conv.yesterday': 'Yesterday',
    'conv.thisWeek': 'This Week',
    'conv.older': 'Older',
    'conv.empty': 'Empty task',
    'conv.sessions': 'tasks',
    'conv.noMatch': 'No matching tasks',
    'conv.noConv': 'No tasks yet',
    'conv.refresh': 'Refresh',
    'conv.justNow': 'just now',
    'conv.mAgo': 'm ago',
    'conv.hAgo': 'h ago',
    'conv.dAgo': 'd ago',
    'conv.loadFailed': 'Failed to load task',
    'conv.delete': 'Delete',
    'conv.rename': 'Rename',
    'conv.revealInFinder': 'Reveal in Finder',
    'conv.export': 'Export',
    'conv.newChat': 'New Task',
    'conv.renamePrompt': 'Enter new name',

    // ExportMenu
    'export.title': 'Export task',
    'export.markdown': 'Export as Markdown',
    'export.json': 'Export as JSON',
    'export.success': 'Exported to',

    // SecondaryPanel
    'panel.files': 'Files',
    'panel.agents': 'Agents',
    'panel.settings': 'Settings',
    'panel.agentsSoon': 'Agent Teams (coming soon)',
    'panel.settingsSoon': 'Settings (coming soon)',
    'panel.skills': 'Skills',
    'panel.close': 'Close panel',

    // FileExplorer
    'files.title': 'Files',
    'files.selectProject': 'Select a project from the input bar below to browse files',
    'files.changed': 'changed',
    'files.clearMarkers': 'Clear markers',
    'files.closePreview': 'Close preview',
    'files.refresh': 'Refresh',
    'files.noFiles': 'No files found',
    'files.openVscode': 'Double-click to open in VS Code',
    'files.search': 'Search files...',
    'files.revealInFinder': 'Reveal in Finder',
    'files.openDefault': 'Open with Default App',
    'files.openVscodeShort': 'Open in VS Code',
    'files.preview': 'Preview',
    'files.source': 'Source',
    'files.previewUnsupported': 'Preview not supported for this file type',
    'files.binaryFile': 'Binary file cannot be previewed',
    'files.imagePreview': 'Image preview',
    'files.loading': 'Loading...',
    'files.errorLoading': 'Failed to load file',
    'files.lineCount': 'lines',
    'files.edit': 'Edit',
    'files.save': 'Save',
    'files.saving': 'Saving...',
    'files.discard': 'Discard',
    'files.unsavedChanges': 'Unsaved changes',
    'files.openExternal': 'Open in system viewer',

    // ProjectSelector
    'project.selectFolder': 'Select Project Folder',
    'project.selectBtn': 'Select project...',

    // CommandPalette
    'cmd.newChat': 'New Task',
    'cmd.newChatDesc': 'Start a new task',
    'cmd.toggleSidebar': 'Toggle Sidebar',
    'cmd.toggleSidebarDesc': 'Show or hide the sidebar',
    'cmd.toggleFiles': 'Toggle File Panel',
    'cmd.toggleFilesDesc': 'Show or hide the file explorer',
    'cmd.showFiles': 'Show Files',
    'cmd.showFilesDesc': 'Open the file explorer panel',
    'cmd.showAgents': 'Show Agents',
    'cmd.showAgentsDesc': 'Open the agent teams panel',
    'cmd.toggleTheme': 'Toggle Theme',
    'cmd.toggleThemeDesc': 'Switch between light, dark, and system theme',
    'cmd.placeholder': 'Type a command...',
    'cmd.noMatch': 'No matching commands',
    'cmd.chat': 'Task',
    'cmd.view': 'View',
    'cmd.settings': 'Settings',

    // ModeSelector
    'mode.code': 'Code',
    'mode.ask': 'Ask',
    'mode.plan': 'Plan',
    'mode.bypass': 'Bypass',

    // Activity status
    'chat.thinking': 'Thinking...',
    'chat.writing': 'Writing...',
    'chat.runningTool': 'Running tool',

    // File upload
    'input.processingFiles': 'Processing...',
    'input.stop': 'Stop',

    // Rewind
    'rewind.title': 'Rewind',
    'rewind.confirm': 'Rewind to turn {n}',
    'rewind.current': '(current)',
    'rewind.noChanges': 'No code changes',
    'rewind.restoreConversation': 'Restore task only',
    'rewind.restoreAll': 'Restore code and task',
    'rewind.restoreCode': 'Restore code only',
    'rewind.summarize': 'Summarize from here',
    'rewind.cancel': 'Cancel',
    'rewind.success': 'Rewound to turn {n} (task only). Send a new message to resume.',
    'rewind.successAll': 'Rewound to turn {n} (code and task restored).',
    'rewind.successCode': 'Code restored to turn {n} state (task unchanged).',
    'rewind.summaryTitle': 'Summary of turns {from}–{to}',
    'rewind.disabled': 'Cannot rewind while running',

    // Markdown rich text
    'msg.copyCode': 'Copy',
    'msg.copied': 'Copied!',
    'msg.imgError': 'Image failed to load',
    'msg.openLink': 'Open in browser',

    // Permission / Plan interactive UI
    'msg.permissionTitle': 'Permission Required',
    'msg.allow': 'Allow',
    'msg.deny': 'Deny',
    'msg.responded': 'Responded',
    'msg.planTitle': 'Execution Plan',
    'msg.planSteps': 'steps',
    'msg.viewPlan': 'View Plan',
    'msg.noPlan': 'No Plan yet',
    'msg.questionTitle': 'Question',
    'msg.questionSubmit': 'Submit',
    'msg.questionNext': 'Next',
    'msg.questionSkip': 'Skip',
    'msg.questionOther': 'Other',
    'msg.questionOtherPlaceholder': 'Enter custom answer...',
    'msg.planReview': 'Review Claude\'s plan',
    'msg.planApprove': 'Approve plan and start coding',
    'msg.planModify': 'Tell Claude what to change',
    'msg.planApproved': 'Plan approved',
    'msg.planLabel': 'Plan',
    'chat.awaiting': 'Awaiting input...',

    // Agent panel
    'agents.title': 'Agents',
    'agents.main': 'Main Agent',
    'agents.subAgent': 'Sub-agent',
    'agents.empty': 'Send a message to see agent activity',
    'agents.active': 'active',
    'agents.spawning': 'Starting...',
    'agents.thinking': 'Thinking...',
    'agents.writing': 'Writing...',
    'agents.runningTool': 'Running tool',
    'agents.completed': 'Completed',
    'agents.error': 'Error',

    // WelcomeScreen
    'welcome.newChat': 'New Task',
    'welcome.subtitle': 'Select a project folder to get started',
    'welcome.recentProjects': 'Recent Projects',

    // Settings
    'settings.title': 'Settings',
    'settings.colorTheme': 'Color Theme',
    'settings.black': 'Black',
    'settings.orange': 'Orange',
    'settings.green': 'Green',
    'settings.blue': 'Blue',
    'settings.appearance': 'Appearance',
    'settings.light': 'Light',
    'settings.dark': 'Dark',
    'settings.system': 'System',
    'settings.language': 'Language',
    'settings.defaultModel': 'Default Model',
    'settings.fontSize': 'Font Size',
    'settings.fontSizeHint': '⌘+/- to adjust, ⌘+0 to reset',

    // Slash commands
    'slash.commands': 'Commands',
    'slash.global': 'Global',
    'slash.project': 'Project',
    'slash.hasArgs': 'Args',
    'slash.noMatch': 'No matching commands',
    'slash.builtin': 'Built-in',
    'slash.skills': 'Skills',
    'slash.immediate': 'Instant',
    'slash.projectCommands': 'Project Commands',
    'slash.globalCommands': 'Global Commands',
    'slash.projectSkills': 'Project Skills',
    'slash.globalSkills': 'Global Skills',

    // Builtin command descriptions
    'slash.desc.ask': 'Ask a question without making changes',
    'slash.desc.bug': 'Report a bug with Claude Code',
    'slash.desc.clear': 'Clear task history',
    'slash.desc.compact': 'Compact task to reduce context',
    'slash.desc.config': 'Open settings panel',
    'slash.desc.context': 'Manage context files and directories',
    'slash.desc.cost': 'Show session cost and token usage',
    'slash.desc.doctor': 'Check Claude Code health status',
    'slash.desc.exit': 'Close the application',
    'slash.desc.export': 'Export task to markdown',
    'slash.desc.help': 'Show available commands',
    'slash.desc.init': 'Initialize project configuration',
    'slash.desc.mcp': 'Manage MCP server connections',
    'slash.desc.memory': 'View or edit MEMORY.md files',
    'slash.desc.model': 'Switch the AI model',
    'slash.desc.permissions': 'View and manage tool permissions',
    'slash.desc.plan': 'Enter plan mode for complex tasks',
    'slash.desc.rename': 'Rename the current session',
    'slash.desc.resume': 'Resume a previous session',
    'slash.desc.rewind': 'Rewind task to a previous turn',
    'slash.desc.stats': 'Show session statistics',
    'slash.desc.status': 'Show session status',
    'slash.desc.statusline': 'Configure status line display',
    'slash.desc.tasks': 'View running background tasks',
    'slash.desc.teleport': 'Teleport context to a new session',
    'slash.desc.theme': 'Toggle light/dark/system theme',
    'slash.desc.todos': 'View todo items from the session',
    'slash.desc.usage': 'Show detailed token usage breakdown',

    // Command feedback
    'cmd.switchedToAsk': 'Switched to Ask mode (answers only, no code changes)',
    'cmd.switchedToPlan': 'Switched to Plan mode (planning only, no execution)',
    'cmd.switchedToCode': 'Switched to Code mode (default)',
    'cmd.compacting': 'Compacting context...',
    'cmd.noActiveSession': 'No active session. Send a message first.',
    'cmd.costTitle': 'Session Cost',
    'cmd.costModel': 'Model',
    'cmd.costAmount': 'Cost',
    'cmd.costDuration': 'Duration',
    'cmd.costTurns': 'Turns',
    'cmd.costTokens': 'Tokens',
    'cmd.statusTitle': 'Session Status',
    'cmd.statusState': 'State',
    'cmd.statusMode': 'Mode',
    'cmd.statusProcess': 'Process active',
    'cmd.currentModel': 'Current model',
    'cmd.modelHint': 'Use the model selector at the bottom to switch models.',
    'cmd.helpTitle': 'Available Commands',
    'cmd.helpCustom': 'Custom commands',
    'cmd.helpSkills': 'Skills',
    'cmd.bugReport': 'Please visit https://github.com/anthropics/claude-code/issues to report bugs.',
    'cmd.unknownCommand': 'Unknown command',
    'cmd.noSessionData': 'No session data yet. Send a message first.',
    'cmd.configOpened': 'Settings panel opened',
    'cmd.renamed': 'Renamed to "{name}"',
    'cmd.renameNoArgs': 'Please provide a name. Usage: /rename <name>',
    'cmd.exportNoPath': 'Session has not been saved to disk yet.',
    'cmd.resumed': 'Switched to session "{name}"',
    'cmd.resumeNotFound': 'No session matching "{query}" found',
    'cmd.resumeList': 'Select a session from the sidebar to resume',
    'cmd.cliRunning': 'Running...',
    'cmd.cliDone': 'completed',
    'cmd.doctorTitle': 'Health Check',
    'cmd.doctorCli': 'CLI Path',
    'cmd.doctorVersion': 'Version',
    'cmd.doctorAuth': 'Auth Status',
    'cmd.doctorAuthOk': 'Logged in',
    'cmd.doctorAuthFail': 'Not logged in',
    'cmd.doctorNotInstalled': 'Claude CLI is not installed',
    'cmd.initCreated': 'Created CLAUDE.md',
    'cmd.initExists': 'CLAUDE.md already exists',
    'cmd.initNoDir': 'Please select a project directory first',
    'cmd.memoryTitle': 'Project Memory (CLAUDE.md)',
    'cmd.memoryEmpty': 'No CLAUDE.md found in the current project',
    'cmd.memoryNoDir': 'Please select a project directory first',
    'cmd.permissionsTitle': 'Permissions',
    'cmd.permissionsHint': 'Permissions are managed by the Claude CLI session. Run `claude permissions` in a terminal for details.',
    'cmd.mcpTitle': 'MCP Servers',
    'cmd.mcpHint': 'MCP servers are managed by Claude CLI. Run `claude mcp` in a terminal for details.',

    // Command processing card
    'cmd.processing': 'Running',
    'cmd.processingDone': 'Completed',
    'cmd.elapsed': 'Elapsed',
    'cmd.showOutput': 'Show output',
    'cmd.hideOutput': 'Hide output',

    // Plan review enhancements
    'msg.planStepCount': '{n} steps',
    'msg.planApproveHint': 'Approve (Enter)',
    'msg.planCollapsed': 'Plan approved — click to expand',

    // Permission enhancements
    'msg.permissionAllowHint': 'Allow (y)',
    'msg.permissionDenyHint': 'Deny (n)',
    'msg.permissionCommand': 'Command',

    // Question enhancements
    'msg.questionProgress': 'Question {current} / {total}',

    // Tool group
    'msg.toolGroup': '{n} tool calls',
    'msg.toolGroupSummary': '{summary}',
    'msg.toolGroupExpand': 'Expand',
    'msg.toolGroupCollapse': 'Collapse',

    // Slash command execution types
    'slash.cli': 'CLI',
    'slash.session': 'Session',

    // Skills panel
    'skills.title': 'Skills',
    'skills.refresh': 'Refresh',
    'skills.create': 'Create',
    'skills.cancel': 'Cancel',
    'skills.edit': 'Edit',
    'skills.save': 'Save',
    'skills.saving': 'Saving...',
    'skills.discard': 'Discard',
    'skills.delete': 'Delete',
    'skills.loading': 'Loading...',
    'skills.empty': 'No skills yet. Click + to create one.',
    'skills.namePlaceholder': 'Enter skill name...',
    'skills.global': 'Global',
    'skills.project': 'Project',
    'skills.confirmDelete': 'Are you sure you want to delete this skill?',
    'skills.viewEdit': 'Edit',
    'skills.viewPreview': 'Preview',
    'skills.viewSplit': 'Split',
    'skills.unsaved': 'Unsaved',
    'skills.search': 'Search skills...',
    'skills.useInInput': 'Use in input',
    'skills.enable': 'Enable',
    'skills.disable': 'Disable',
    'skills.duplicate': 'Duplicate',
    'skills.revealInFinder': 'Reveal in Finder',
    'skills.tools': 'Tools',
    'skills.model': 'Model',
    'skills.context': 'Context',
    'skills.version': 'Version',

    // MCP panel
    'panel.mcp': 'MCP',
    'mcp.title': 'MCP Servers',
    'mcp.add': 'Add',
    'mcp.edit': 'Edit',
    'mcp.delete': 'Delete',
    'mcp.name': 'Name',
    'mcp.command': 'Command',
    'mcp.args': 'Args',
    'mcp.env': 'Env',
    'mcp.type': 'Type',
    'mcp.noServers': 'No MCP servers configured',
    'mcp.confirmDelete': 'Are you sure you want to delete this MCP server?',
    'mcp.save': 'Save',
    'mcp.cancel': 'Cancel',
    'mcp.envHint': 'One per line, format: KEY=VALUE',
    'mcp.argsHint': 'One argument per line',
    'mcp.namePlaceholder': 'Enter server name...',
    'mcp.commandPlaceholder': 'Enter command, e.g. npx',
    'mcp.refresh': 'Refresh',
    'mcp.envCount': 'env vars',

    // Setup wizard
    'setup.checking': 'Detecting Claude Code CLI...',
    'setup.notInstalled': 'Claude Code CLI not found',
    'setup.notInstalledDesc': 'Claude Code CLI is required to use TOKENICODE.',
    'setup.install': 'Install Claude Code',
    'setup.installing': 'Installing...',
    'setup.installFailed': 'Installation failed',
    'setup.installFailedDesc': 'Automatic installation was unsuccessful. Please try manual installation.',
    'setup.retry': 'Retry',
    'setup.manualInstall': 'Manual installation',
    'setup.manualInstallCmd': 'Run the following command in your terminal:',
    'setup.installed': 'Claude Code CLI installed',
    'setup.loginNeeded': 'Login to your Anthropic account',
    'setup.loginNeededDesc': 'Sign in to start using Claude Code.',
    'setup.login': 'Login',
    'setup.loggingIn': 'Waiting for authentication...',
    'setup.loggingInDesc': 'A browser window should have opened. Please complete the login there.',
    'setup.loggingInTerminalDesc': 'A terminal window has been opened with `claude login`. Please complete the login in the terminal. This page will update automatically once authenticated.',
    'setup.loginFailed': 'Login failed',
    'setup.loginFailedDesc': 'Authentication was unsuccessful. Please try again.',
    'setup.ready': 'All set!',
    'setup.readyDesc': 'Claude Code CLI is installed and authenticated. You\'re ready to go.',
    'setup.start': 'Get Started',
    'setup.skip': 'Skip',
    'setup.version': 'Version',
  },
};

// --- Non-reactive t() for use outside components ---

export function t(key: string): string {
  const locale = useSettingsStore.getState().locale;
  return messages[locale]?.[key] || messages['en'][key] || key;
}

// --- Reactive hook for use inside React components ---

export function useT() {
  const locale = useSettingsStore((s) => s.locale);
  return (key: string): string =>
    messages[locale]?.[key] || messages['en'][key] || key;
}
